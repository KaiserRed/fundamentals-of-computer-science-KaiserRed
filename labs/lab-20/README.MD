# **Отчёт по лабораторной работе № 20** по курсу "Алгоритмы и структуры данных"

<b>Студент группы:</b> <ins>М80-108Б-22 Галкин Алексей Дмитриевич, № по списку 3</ins> 

<b>Контакты e-mail:</b> <ins>alexgalkin2004@mail.ru</ins>

<b>Работа выполнена:</b> «2» <ins>марта</ins> <ins>2023</ins> г.

<b>Преподаватель:</b> <ins>асп. каф. 806 Сахарин Никита Александрович</ins>

<b>Входной контроль знаний с оценкой:</b> <ins>5</ins>

<b>Отчет сдан</b> «18» <ins>марта<ins> 2023</ins> г., <b>итоговая оценка</b> <ins> (отлично)</ins>

<b>Подпись преподавателя:</b> ________________  

## 1. Тема
стандартные утилиты UNIX для обработки файлов
## 2. Цель работы
Ознакомиться с утилитами, позволяющими выполнять многоие сложные работы с файлами без программирования путём последовательного и конвейерного выполнения этих программ.
## 3. Задание (Вариант №3)
Детально изучить утилиты: cpp, vim, split. Запротоколировать примеры и иллюстрации работы 20 утилит пакетного режима. 

## 4. Оборудование
<b>Процессор:</b> 11th Gen Intel(R) Core (TM) i7-11370H 3.30GHz<br/>
<b>ОП: 16ГБ <br/>
<b>Монитор: 2880x1800 <br/>
## 5. Програмное обеспечение
<b>Опереционная система семейства: VirtualBox 6.1.38 - Ubuntu 22.04.01 LTS<br/>
<b>Интерпретатор команд:</b> bash, версия 5.1.16<br/>
<b>Система программирования:</b> --, версия --<br/>  
<b>Редактор текстов:</b> emacs, версия **28.2**<br/>
<b>Утилиты операционной системы:</b> gcc,cat<br/>
<b>Прикладные системы и программы:</b>--<br/>
<b>Местанохождение и имена файлов программ и данных на домашнем компьютере:</b> home/alexey<br/>
## 6. Идея, метод, алгоритм
1. ```cmp``` – побайтовое сравнение двух файлов.
2. ```comm``` – сравнение двух текстовых файлов с отсортированными по алфавиту строками.
3. ```wc``` – утилита, выводящая число переводов строк, слов и байт для каждого указанного файла и строку.
4. ```dd``` – выполняет копирование данных из одного места в другое на двоичном уровне.
5. ```diff``` – сравнение двух файлов и поиск различий между ними.
6. ```grep``` – утилита командной строки Linux, который даёт пользователям возможность вести поиск строки
7. ```join``` – объединяет строки двух упорядочных текстовых файлов на основе наличия общего поля
8. ```sort``` – выводит  сортированное слияние указанных файлов
9. ```tail``` – выводит несколько последних строк из файла. 
10. ```tee``` – выводит на экран, или же перенаправляет выходной поток команды и копирует его содержимое в файл или в переменную. 
11. ```tr``` – копирует стандартный входной поток в стандартный выходной, подставляя или удаляя некоторые символы. 
12. ```uniq``` – выводит или отфильтровывает повторяющиеся строки в отсортированном файле.
13. ```od``` – утилита для вывода дампа файла в восьмеричном формате.
14. ```sum``` - утилита выводит контрольную сумму каждого файла, а также количество блоков, которые эти файлы занимают на запоминающем устройстве. 
15. ```cut``` – команда выборки отдельных полей из строк файла. 
16. ```nroff``` – утилита для форматирования текстов.
17. ```vim``` – текстовый редактор
18. ```mc``` –  визуальная оболочка для Unix-подобных систем.
19. ```tar``` – архиватор
20. ```gzip``` – утилита для сжатия файлов.
21. ```ed``` – текстовый редактор
22. ```awk``` – инструмент для обработки и фильтрации текста
23. ```sed``` – Потоковый текстовый редактор
24. ```bzip2``` –  предназначена для сжатия данных без потерь
25. ```head``` – выводит начальные строки
26. ```icnov``` –  преобразовывает текста из одной кодировки в другую
27. ```patch``` – предназначена для переноса правок между разными версиями текстовых файлов. 
28. ```md5``` – используется для проверки целостности строк или файлов
29. ```du``` – позволяет вывести размер всех файлов в определённой папке в байтах или в более удобном формате.
30. ```file``` –  позволяет узнать тип данных, которые на самом деле содержатся внутри документа.
31. ```touch``` – создание пустого файла, если его нет. Если файл есть, то команда установит дату обращения в текущий момент времени 
32. ```find``` – команда для поиска файлов и каталогов на основе специальных условий.
33. ```xargs``` – позволяет вывод предыдущей команды можно передать в аргументы следующей.
34. ```df``` – показывает список всех файловых систем по именам устройств, сообщает их размер, занятое и свободное пространство и точки монтирования.
35. ```paste``` – предназначена для вставки колонок
36. ```cpp``` – препроцессор для языка C
37. ```indent``` – переформатирует код C и C++ в определенном пользователем стиле отступов и стиля кодирования. 
38. ```split``` – разбивает файл на несколько частей
39. ```mktemp``` –  предназначена для создания временных файлов и директорий.
  
### Утилита split
Список доступных опций:

-a, --suffix-length – задать длину суффикса (количество символов) в имени части файла. По умолчанию это 2 символа.
--additional-suffix – указать дополнительный суффикс.     
-b, --bytes – разбить файл на части равного указанного размера. Единица измерения – 1 байт, 1000 байт записывается как KB, 1024 как K. По аналогии есть MB (M), GB (G) и так далее.    
-C, --line-bytes – разбить файл на части не более указанного размера, не разделяя строки/записи внутри него.    
-d – использовать числовой суффикс в имени конечного файла вместо алфавитного. Отсчет начинается с нуля.    
--numeric-suffixes – то же самое, что и -d, но еще задаётся начальное число для отсчета.    
-x – использовать hex-префикс вместо алфавитного. Начальное значение – 0.    
--hex-suffixes – то же самое, что и -x, но начальное значение задаётся вручную.    
-e, --elide-empty-files – не создавать пустые файлы при выполнении опции -n.    
-l, --lines – установить максимальное количество строк/записей итогового файла. По умолчанию команда split разбивает файл на 1000 строк.    
-n, --number – разбить файл на чанки (указанное количество частей).    
-t, --separator – установить свой разделительный символ вместо новой строки.    
--verbose – выводить информацию о новых файлах перед их созданием.    
--version – посмотреть версию утилиты.    
  
### Утилита cpp
-D name : предопределяет имя в качестве макроса.   
-D name=definition : содержимое определения маркируется и обрабатывается так, как если бы они были написаны в самой программе.    
-U name : отменяет любое предыдущее определение макроса.   
-undef: не предопределяет никаких системных или специфичных для GCC макросов. Стандартные предопределенные макросы остаются определенными.   
-I dir : добавляет каталог dir в список каталогов для поиска файлов заголовков.    
-Wall: включает все необязательные предупреждения, которые желательны для обычного кода.    
-Wcomments: предупреждает всякий раз, когда в комментарии /* появляется последовательность /*, начинающая комментарий, или всякий раз, когда в комментарии // появляется обратная косая черта-новая строка.     
-Wendif-labels : предупреждает всякий раз, когда за #else или #endif следует текст.     
-w : убирает все предупреждения, включая те, которые GNU CPP выдает по умолчанию.     
-M: вместо вывода результата предварительной обработки выводит подходящее для make правило, описывающее зависимости основного исходного файла.    
-ММ : Как и -M, но не упоминайте заголовочные файлы, которые находятся в системных каталогах заголовков.      
  
### Утилита vim
$ vim опции имя_файла — открытие файла
Опции запуска:    
+номер - переместить курсор к указной строке после запуска.    
+/шаблон - выполнить поиск по шаблону и переместить курсор к первому вхождению    
"+команда" - выполнить команду после запуска программы    
-b - двоичный режим, для редактирования исполняемых файлов.    
-d - режим поиска различий в файлах, нужно указать несколько файлов для открытия.    
-g - графический режим.    
-n - не использовать автосохранение для восстановления файла при сбое.
-R - режим только для чтения.    
-w - сохранить все действия в файл.    
-x - шифровать файл при записи.   
-C - режим совместимости с Vi.     

1. Для перемещение курсора используется:   
h - на один символ влево;    
l - на один символ вправо;    
j - на одну строку вниз;    
k - на одну строку вверх;    
w - на слово вправо;   
b - на слово влево;    
H - перейти в низ экрана;    
G - перейти в конец файла;    
gg - перейти в начало файла;    
<номер>G - перейти к конкретной строке;    
. - перейти к последнему редактированию.    

2. В режиме редактирования можно использовать:    
i - вставить текст с позиции курсора, символ под курсором будет заменен;    
I - вставить текст в начало строки;    
a - добавить текст начиная от позиции курсора;    
o - вставить новую строку после этой и начать редактирование;    
O - вставить новую строку перед этой и начать редактирование;   
  
3. Удаление символов и строк   
d - удалить символ;    
dd - удалить всю строку;    
D - удалить символы начиная от курсора и до конца строки.    
  
4. Замена символов     
r - заменить текущий символ;   
R - заменить несколько символов.    

5. Отмена действий    
u - отменить последнее действие;   
U - отменить последнее действие в текущей строке;   
. - повторить последнее действие;   
Ctrl+r - отменить отмену последнего действия.   
6. Команды для командной строки:    
:w - сохранить файл;    
:q - закрыть редактор;    
:q! - закрыть редактор без сохранения;     
:e файл - прочитать содержимое файла в позицию курсора;    
:r файл - вставить в содержимое файла в следующую строку;    
:r! - выполнить команду оболочки и вставить ответ в редактор;    
:set переменная=значение - установить значение переменной, например, tabstop=4, или set number, с помощью этой команды можно управлять многими аспектами работы vim.    
:buffers - посмотреть открытые файлы;    
:reg - посмотреть содержимое буферов обмена.     
7. Выделение
V позволяет из командного режима перейти в режим выделения.   
y - скопировать в буфер обмена;    
yy or Y - скопировать строку в буфер обмена;    
x - вырезать в буфер обмена;    
p - вставить из буфера обмена.      
8. Поиск и замена.    
f - найти один символ;    
/ - искать несколько символов;    
n - найти следующее вхождение;    
N - найти предыдущее вхождение;    
:%s/искать/заменить/g — для замены.
## 7. Сценарий выполнения работы
1. Изучить утилиты
2. Узнать флажки 3 утилит(split, cpp, vim)
3. Протестировать утилиты

Пункты 1-7 отчета составляются строго до начала лабораторной работы.
Допущен к выполнению работы.  
<b>Подпись преподавателя</b> ________________
### 8. **Протокол**
```
alexey@alexey-VirtualBox:~$ cat 1.txt
221 31 
4  12 31 
meow sdf s
2 vcx v xc 
me asd asd as
r gdfsg  gsd43wq  
alexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c      Загрузки      Общедоступные
'1 sem'   code1.c   snap       Видео       Изображения  'Рабочий стол'
 1.txt    code.c    test2.c    Документы   Музыка        Шаблоны
alexey@alexey-VirtualBox:~$ split -b 20 1.txt
alexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c   xac     Документы     Музыка          Шаблоны
'1 sem'   code1.c   snap       xaa      xad     Загрузки      Общедоступные
 1.txt    code.c    test2.c    xab      Видео   Изображения  'Рабочий стол'
alexey@alexey-VirtualBox:~$ cat xac

me asd asd as
r gdfalexey@alexey-VirtualBox:~$ cat xaa
221 31 
4  12 31 
mealexey@alexey-VirtualBox:~$ rm xaa
alexey@alexey-VirtualBox:~$ rm xac
alexey@alexey-VirtualBox:~$ rm xad
alexey@alexey-VirtualBox:~$ rm xab
alexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c      Загрузки      Общедоступные
'1 sem'   code1.c   snap       Видео       Изображения  'Рабочий стол'
 1.txt    code.c    test2.c    Документы   Музыка        Шаблоны
alexey@alexey-VirtualBox:~$ split -l 3 1.txt
alexey@alexey-VirtualBox:~$ cat xaa
221 31 
4  12 31 
meow sdf s
alexey@alexey-VirtualBox:~$ rm xaa
alexey@alexey-VirtualBox:~$ cat xab
2 vcx v xc 
me asd asd as
r gdfsg  gsd43wq  
alexey@alexey-VirtualBox:~$ rm xab
alexey@alexey-VirtualBox:~$ split -n 5 1.txt
alexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c   xac   Видео       Изображения    'Рабочий стол'
'1 sem'   code1.c   snap       xaa      xad   Документы   Музыка          Шаблоны
 1.txt    code.c    test2.c    xab      xae   Загрузки    Общедоступные
alexey@alexey-VirtualBox:~$ cat xae
 gdfsg  gsd43wq  
alexey@alexey-VirtualBox:~$ car xad
Команда «car» не найдена, но может быть установлена с помощью:
sudo apt install ucommon-utils
alexey@alexey-VirtualBox:~$ cat xad
e asd asd as
ralexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c      Загрузки      Общедоступные
'1 sem'   code1.c   snap       Видео       Изображения  'Рабочий стол'
 1.txt    code.c    test2.c    Документы   Музыка        Шаблоны
alexey@alexey-VirtualBox:~$ split -a 1 --numeric-suffixes=1 -n 4 1.txt
alexey@alexey-VirtualBox:~$ ls
 1.c      a.out     horner.c   test.c   x3      Документы     Музыка          Шаблоны
'1 sem'   code1.c   snap       x1       x4      Загрузки      Общедоступные
 1.txt    code.c    test2.c    x2       Видео   Изображения  'Рабочий стол'
alexey@alexey-VirtualBox:~$ split --version
split (GNU coreutils) 8.32
Copyright (C) 2020 Free Software Foundation, Inc.
Лицензия GPLv3+: GNU GPL версии 3 или новее <https://gnu.org/licenses/gpl.html>.
Это свободное ПО: вы можете изменять и распространять его.
Нет НИКАКИХ ГАРАНТИЙ в пределах действующего законодательства.

Авторы программы — Torbjorn Granlund и Richard M. Stallman.
alexey@alexey-VirtualBox:~$ 


alexey@alexey-VirtualBox:~$ cpp hello.c out.txt
alexey@alexey-VirtualBox:~$ cat out.txt
# 0 "hello.c"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "/usr/include/stdc-predef.h" 1 3 4
# 0 "<command-line>" 2
# 1 "hello.c"

void main(){
    printf("Hello World!");

}
alexey@alexey-VirtualBox:~$ cpp -D out="Hello world" he.c out.txt
alexey@alexey-VirtualBox:~$ cat out.txt
# 0 "he.c"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "/usr/include/stdc-predef.h" 1 3 4
# 0 "<command-line>" 2
# 1 "he.c"

void main(){
    printf(Hello world);

}
alexey@alexey-VirtualBox:~$ cpp -D out="Hello World" he.c out.txt
alexey@alexey-VirtualBox:~$ cat out.txt
# 0 "he.c"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "/usr/include/stdc-predef.h" 1 3 4
# 0 "<command-line>" 2
# 1 "he.c"

void main(){
    printf(Hello World);

}
alexey@alexey-VirtualBox:~$ cpp -D out="Hello World" -M he.c out.txt
alexey@alexey-VirtualBox:~$ cat out.txt
he.o: he.c /usr/include/stdc-predef.h

```
## 9. Дневник отладки должен содержать дату и время сеансов отладки и основные события (ошибки в сценарии и программе, нестандартные ситуации) и краткие комментарии к ним. В дневнике отладки приводятся сведения об использовании других ЭВМ, существенном участии преподавателя и других лиц в написании и отладке программы.

| № |  Лаб. или дом. | Дата | Время | Событие | Действие по исправлению | Примечание |
| ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | дом. | 08.12.22 | 17:00 | Выполнение лабораторной работы | - | - |    
## 10. Замечания автора по существу работы
По ходу защиты лабораторной работы было дано задание:


## 11. Выводы
Были изучены стандартные утилиты UNIX для обработки файлов. Былы освоены утилиты: vim (его режимы, функционал и команды), split и cpp.

<b>Подпись студента:</b> ____________________
